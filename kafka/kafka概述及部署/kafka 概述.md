
#### kafka简介

##### 消息系统分类
- [x] peer-to-peer
- 一般给予pull或者polling接受消息
- 发送消息队列中的消息被一个而且仅仅一个接受者所接收，即使都有多个接收者在同一个队列中侦听同一消息
- 即使支持异步，‘即发即弃’ 的消息传送方式，也支持同步请求、应答传送方式

- [x] 发布/订阅
- 发布到一个个主题消息，可能被多个订阅者接收
- 发布、订阅和给予push消费数据，也可基于pull或者polling消费数据
- 解耦能力比P2P模型更强


##### 消息系统适用场景
- [x] 解耦
- 各系统之间通过消息系统这个统一的接口交换数据，无须了解彼此的存在

- [x] 冗余
- 部分消息系统具有消息持久化能力，可规避消息处理前丢失的风险

- [x] 扩展
消息系统是统一的数据接口，个系统可独立扩展

- [x] 峰值处理能力
- 消息系统可顶住峰值流量，业务系统可根据处理能力从消息系统中获取并处理对应量的请求 

- [x] 可恢复性
-系统中部分组件失效并保护好影响整个系统，它恢复后仍可以从消息系统中获取并处理数据 

- [x] 异步通信
- 在不需要立即处理请求的场景下，可以将请求放入消息系统，合适的时候在处理


#### 常用消息系统对比

##### RabbitMQ
- [x] 支持多协议 AMQP  XMPP  SMTP   STOMP 支持负载均衡、数据持久化、同时支持peer-to-peer和发布/订阅模式
- [x] redis 基于Key-Value 对的NoSql数据库，同时支持MQ功能，可做轻量级队列和服务使用，就入队操作而言，Redis对短消息（小于10KB）的性能比rabbit MQ好，长消息的性能比rebbitMQ差
- [x]  zero MQ  轻量级，不需要单独的消息服务器中间件，应用本身扮演该角色，peer-to-peer它实质上是一个库，需要开发人员自己组合多种技术，使用复杂度高
- [x] ACtive MQ JMS 实现，peer-to-peer 支持持久化，xa事务
- [x] Kafka、jafka 高性能跨语言的分布式发布、订阅消息系统，数据持久化，全分布式，同时支持在线和离线处理
- [x] meta/rocketMq  纯java 实现，发布定于消息体统，支持本地事务和XA分布式事务


##### kafka 主要功能
- [x] 搞吞吐率，在廉价的商用机器上单机可支持每秒100万条消息的读写
- [x] 消息持久化，所有消息均被持久化到磁盘，无消息丢失，支持消息重放
- [x] 完全分布式  producer broker  consumer均支持水平扩展
- [x] 同时满足适应在线流处理和离线批处理
